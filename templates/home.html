{% extends 'base.html' %}
{% load static %}
{% block title %} Home {% endblock %}
{% load humanize %}

{% block content %}

<div class="container-fluid" style="padding-top: 16px;">
    <div class="alert alert-info" role="alert">
        <h2 style="font-family: 'Mochiy Pop P One', sans-serif; text-align: center;" class="mt-3 mb-3">Recent Post...
        </h2>
    </div>

</div>

<div class="container-fluid">
    <div class="owl-carousel">

        {% for c in recentpost %}
        <div class="card shadow p-1 mb-5 bg-body rounded">
            <img class="card-img-top" style="object-fit: cover; width: 100%; height: 180px;" src="/media/{{c.image}}"
                alt="Card image cap">
            <div class="card-body p-0">
                <h5 class="card-title mt-3 mb-0"><span style="font-family: 'Archivo Black', sans-serif; color: rgb(55, 167, 129);display: -webkit-box;
                    -webkit-line-clamp: 1;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                    text-overflow: ellipsis; margin: 15px; margin-top: 0px; margin-bottom:0px;">{{c.title}}</span>
                </h5>

                <div class="card-body text-truncate" style="margin-top: 0px; padding-top: 10px; padding-bottom: 6px;">
                    <span class="card-text font-weight-bold" style="font-weight: 800;">Category -
                    </span><span>{{c.category}}</span>
                </div>

                <p class="mx-3" style="margin-bottom: 8px;"><svg xmlns="http://www.w3.org/2000/svg" width="18"
                        height="18" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                    </svg> <span class="badge bg-secondary">{{c.author}}</span>
                </p>

                <p class="card-text text-muted mx-3 mb-0"> <svg style="margin-bottom: 4px;" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-calendar-fill" viewBox="0 0 16 16">
                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5z"/>
                  </svg> {{c.add_date}}
                </p>

                <p class="card-text text-muted mx-3 mb-0"> <svg style="margin-bottom: 4px;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                    <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                  </svg> {{c.blogviews | intword | intcomma}}
                </p>

                <div class="container mt-3 mx-0 mb-2">
                    <a href="{% url 'post' c.slug %}" class="btn btn-primary px-4">View</a>
                    {% if perms.blogapp.delete_post %}
                    <a href="{% url 'admindeletepost' c.post_id %}" class="btn btn-outline-danger px-3">Delete</a>
                    {% endif %}
                </div>
                
            </div>
        </div>

        {%endfor%}

    </div>
</div>

<div class="container-fluid" style="padding-top: 16px;">
    <div class="alert alert-dark" role="alert">
        <h2 style="font-family: 'Mochiy Pop P One', sans-serif; text-align: center;" class="mt-3 mb-3">Blogs...</h2>
    </div>

</div>

<div class="container mt-4 mb-5">
    <div class="row">
        {% for p in post %}
        <div class="col-sm-12 col-md-6 col-lg-3 mt-4" style="padding: 5px;">

            <div class="card shadow p-1 mb-1 bg-body rounded">
                <img class="card-img-top" style="object-fit: cover; width: 100%; height: 180px;"
                    src="/media/{{p.image}}" alt="Card image cap">
                <h5 class="card-title mt-3 mb-0"><span style="font-family: 'Archivo Black', sans-serif; color: rgb(55, 167, 129);display: -webkit-box;
                        -webkit-line-clamp: 1;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        text-overflow: ellipsis; margin: 15px; margin-top: 0px; margin-bottom:0px;">{{p.title}}</span>
                </h5>

                <div class="card-body text-truncate" style="margin-top: 0px; padding-top: 10px; padding-bottom: 6px;">
                    <span class="card-text font-weight-bold" style="font-weight: 800;">Category -
                    </span><span>{{p.category}}</span>
                </div>

                <p class="mx-3" style="margin-bottom: 8px;"><svg xmlns="http://www.w3.org/2000/svg" width="18"
                        height="18" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                    </svg> <span class="badge bg-secondary">{{p.author}}</span>
                </p>

                <p class="card-text text-muted mx-3 mb-0">
                    <svg style="margin-bottom: 4px;" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-calendar-fill" viewBox="0 0 16 16">
                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5z"/>
                      </svg> {{p.add_date}}
                </p>

                <p class="card-text text-muted mx-3 mb-0"> <svg style="margin-bottom: 4px;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                    <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                  </svg> {{p.blogviews | intword | intcomma}}
                </p>

                <div class="container text-center mx-0 px-3 mt-2 mb-2">
                    <a href="{% url 'post' p.slug %}" class="btn btn-primary float-start px-4">View</a>
                    {% if perms.blogapp.delete_post %}
                    <a href="{% url 'admindeletepost' p.post_id %}"
                        class="btn btn-outline-danger float-start px-3 mx-1">Delete</a>

                    {% endif %}
                </div>
            </div>

        </div>

        {% empty %}

        <div class="container text-center">
            <h3 style="font-family: 'Mochiy Pop P One', sans-serif; text-align: center;">No posts available</h3>
        </div>

        {% endfor %}

    </div>
</div>

{% endblock %}